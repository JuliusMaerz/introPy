
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.6">
    
    
      
        <title>The PsychoPy Coder (part 1) - introPy</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6910b76c.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.196e0c26.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#the-psychopy-coder-part-1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="introPy" class="md-header-nav__button md-logo" aria-label="introPy">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            introPy
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              The PsychoPy Coder (part 1)
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          

  

<nav class="md-tabs md-tabs--active" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    <li class="md-tabs__item">
      
      
      <a href=".." class="md-tabs__link">
        Home
      </a>
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
      
      <a href="../getting_started/" class="md-tabs__link">
        Getting started
      </a>
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
      
      <a href="../week_1/" class="md-tabs__link">
        Week 1
      </a>
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
      
        
      
      <a href="../week_2/" class="md-tabs__link md-tabs__link--active">
        Week 2
      </a>
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
      
      <a href="../for_educators/" class="md-tabs__link">
        For educators
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="introPy" class="md-nav__button md-logo" aria-label="introPy">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    introPy
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1" >
    <label class="md-nav__link" for="nav-1">
      Home
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Home" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        <span class="md-nav__icon md-icon"></span>
        Home
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href=".." class="md-nav__link">
      Welcome to introPy!
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" >
    <label class="md-nav__link" for="nav-2">
      Getting started
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Getting started" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        Getting started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../getting_started/" class="md-nav__link">
      Getting started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../jupyter/" class="md-nav__link">
      The Jupyter ecosystem
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
    <label class="md-nav__link" for="nav-3">
      Week 1
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Week 1" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Week 1
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../week_1/" class="md-nav__link">
      Python essentials
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    <label class="md-nav__link" for="nav-4">
      Week 2
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Week 2" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Week 2
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../week_2/" class="md-nav__link">
      PsychoPy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../intro_psychopy/" class="md-nav__link">
      Introduction to PsychoPy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../psychopy_builder_part1/" class="md-nav__link">
      The PsychoPy Builder
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../psychopy_builder_part2/" class="md-nav__link">
      A Builder experiment from scratch
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        The PsychoPy Coder (part 1)
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      The PsychoPy Coder (part 1)
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-psychopy-package" class="md-nav__link">
    The psychopy package
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-coder-interface" class="md-nav__link">
    The Coder interface
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dialog-boxes" class="md-nav__link">
    Dialog boxes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-window" class="md-nav__link">
    The Window
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#timing-clocks" class="md-nav__link">
    Timing &amp; clocks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quitting-the-experiment" class="md-nav__link">
    Quitting the experiment
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../psychopy_coder_part2/" class="md-nav__link">
      The PsychoPy Coder (part 2)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../psychopy_how_to_continue/" class="md-nav__link">
      How to continue with PsychoPy?
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" >
    <label class="md-nav__link" for="nav-5">
      For educators
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="For educators" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        For educators
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../for_educators/" class="md-nav__link">
      Information for educators
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-psychopy-package" class="md-nav__link">
    The psychopy package
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-coder-interface" class="md-nav__link">
    The Coder interface
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dialog-boxes" class="md-nav__link">
    Dialog boxes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-window" class="md-nav__link">
    The Window
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#timing-clocks" class="md-nav__link">
    Timing &amp; clocks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quitting-the-experiment" class="md-nav__link">
    Quitting the experiment
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="the-psychopy-coder-part-1">The PsychoPy Coder (part 1)</h1>
<p>At last, we'll discuss the PsychoPy Coder! In this tutorial, we explain the basics of the Coder interface. In the next (and final) tutorial, we'll discuss the Coder interface in more detail. Like in the previous Builder tutorial, we will explain the concepts by walking you through the process of programming a real experiment. This time, we will create a variant of the classical color-word Stroop task, the <em>emotion-word Stroop</em> task, in which participants are presented with images of emotional facial expressions in combination with words describing emotions that are congruent with the images (e.g., a sad expression with the word "sad") or incongruent with the images (e.g., a happy exression with the word "anger").</p>
<h2 id="the-psychopy-package">The <code>psychopy</code> package</h2>
<p>When using the Builder interace, you've seen that, "under the hood", PsychoPy converts your Builder experiment to a Python script, which is then executed to run your experiment. If you look at this generated Python script closely, you'll see that most of the code is based on functions and classes from the <code>psychopy</code> Python package. Whereas the Builder interface generates such code from your graphical experiment, in the Coder interface you'll write your experiment using functionality from the <code>psychopy</code> package directly!</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you plan on programming your PsychoPy experiment (so <em>not</em> use the Builder interface), you technically do not need the entire "standalone" PsychoPy package; installing the <code>psychopy</code> Python package would suffice and you could just write your experiments in your favorite editor (like <a href="https://code.visualstudio.com/">Visual Studio Code</a>). However, as mentioned on the <a href="../getting_started/">Getting started</a> page, getting the <code>psychopy</code> package to work is not easy, which is why we recommend the "batteries included" standalone version of PsychoPy.</p>
</div>
<p>The <code>psychopy</code> package contains different modules for different features. For example, the <code>visual</code> module contains a class to specify and create a window and a large set of visual components (like text, image, and movie components) and the <code>event</code> module contains code to work with "events" such as mouse clicks/movement and keyboard presses. Check out PsychoPy's <a href="https://www.psychopy.org/api/api.html">reference manual</a> for a complete overview of the package's modules.</p>
<p>As you will see, most of PsychoPy's functionality (like the different <em>components</em>) is implemented in custom classes, so your experience with object-oriented programming as discussed in week 1 will be very useful! </p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>In this tutorial, you'll notice that many of the properties of Builder elements (e.g., the <em>Experiment settings</em> and Builder components like <em>text</em> and <em>image</em> components) have the same name and can take the same values as the attributes of the corresponding classes in the Coder interface! </p>
</div>
<h2 id="the-coder-interface">The Coder interface</h2>
<p>Now, let's get started by opening the Coder interface. </p>
<div class="admonition example">
<p class="admonition-title">ToDo</p>
<p>Open the Coder interface (<em>View</em> &rarr; <em>Open Coder view</em>). You may close the <em>Builder</em> interface for now.</p>
</div>
<p>Like the Builder interface, the Coder interface has several subwindows (panes). The panel on the left represents the <em>Source assistant</em>, which lists all files in the current working directory (in the <em>File Browser</em> tab) and information about the Python modules in the current working directory specifically (in the <em>Structure</em> tab).</p>
<div class="admonition example">
<p class="admonition-title">ToDo</p>
<p>By default, PsychoPy's current directory is its installation path. Although this is not strictly necessary for this tutorial, change it to the <code>tutorials/week_2</code> directory by clicking on the right arrow (<em>Jump to another folder</em>).</p>
</div>
<p>At the bottom of the Coder interface in the <em>Shelf</em> pane, you'll find a so-called "Python shell". You can think of it as a type of command line (like we discussed in the first Jupyter notebook of week 1), but specifically for Python code. You can only run a single line at once, but it'll show the result immediately.</p>
<div class="admonition example">
<p class="admonition-title">ToDo</p>
<p>Try writing some valid Python code in the Python shell (and pressing enter to run it), e.g., <code>1 + 1</code>. Note that the Python shell will remember variables if you define them, just like Jupyter notebooks, so you can also run multiple commands like this:</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">5</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">**</span> <span class="mi">2</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">b</span> <span class="o">-</span> <span class="n">a</span>
</code></pre></div>
</div>
<p>This Python shell is very useful to debug or try out short code snippets. For example, if you forgot what the function <code class="highlight"><span class="nb">len</span></code> returns, you can for example run the command <code class="highlight"><span class="nb">len</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span></code> in the Python shell to find out (spoiler: an integer). </p>
<p>Finally, the last pane in the middle is PsychoPy's code editor. Here, you can open any plain-text file (not just Python files!) which you can modify and save. In practice, of course, you'll probably mostly work with Python files in this editor. Like most code editors, the Psychopy code editor also does some code formatting and syntax highlighting. One thing you'll notice is that it by default uses two spaces (in contrast to the more conventional four spaces) for indentation.</p>
<p>Right now, there are probably no active files in your Psychopy code editor, so let's create one for our emotion-word Stroop task! </p>
<div class="admonition example">
<p class="admonition-title">ToDo</p>
<p>Create a new Python file (<em>File</em> &rarr; <em>New</em>) and save it as <code>emo_stroop.py</code> in the <code>tutorials/week_2</code> directory.</p>
</div>
<p>Although you learned in week 1 that Python files should be run in a terminal on the command line (e.g., <code>python emo_stroop.py</code>), Python files within the PsychoPy coder are actually run the same way as Builder experiments: by clicking on the big green play (&#9658;) button!</p>
<div class="admonition example">
<p class="admonition-title">ToDo</p>
<p>Add some code to your <code>exp_stroop.py</code> file, e.g., <code class="highlight"><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;PsychoPy 4evah&quot;</span><span class="p">)</span></code>, and run the file.</p>
</div>
<p>After clicking the <em>Run experiment</em> button, the <em>Experiment runner</em> window should pop up, displaying something like the following:</p>
<div class="highlight"><pre><span></span><code>#### Running:/Path/to/your/file/emo_stroop.py ####
PsychoPy 4evah
##### Experiment ended. #####
</code></pre></div>
<p>As you can see, the <em>Experiment runner</em> shows your print statement; remember this, as it is a nice way to debug your experiments!</p>
<h2 id="dialog-boxes">Dialog boxes</h2>
<p>Arguably the first step in many experiments is providing the experiment with some information about the current session, such as the participant number, condition the participant is in, etc. In Builder experiments, you can implement this in the <em>Experiment settings</em> (under the <em>Basic</em> tab). The equivalent functionality in the Coder interface is implemented in the <code>psychopy.gui</code> module. </p>
<p>The <code>psychopy.gui</code> module contains different classes to create <a href="https://en.wikipedia.org/wiki/Dialog_box">dialog boxes</a>, but arguably the easiest one to use is the <code>DlgFromDict</code> class. This class needs a single mandatory argument upon initialization: a dictionary in which the keys represent the dialog's fields (e.g., "participant_id") and the values represent the default for each field. (If you set a value to an empty string, <code>''</code>, there won't be a default value.)</p>
<p>For example, if you'd like a dialog box in which the participant number can be filled in, you can do the following:</p>
<div class="highlight"><pre><span></span><code><span class="n">exp_info</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;participant_nr&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">}</span>  <span class="c1"># no default!</span>
<span class="n">dlg</span> <span class="o">=</span> <span class="n">DlgFromDict</span><span class="p">(</span><span class="n">exp_info</span><span class="p">)</span>
</code></pre></div>
<p>Note that it is quite important to create the dictionary before passing it to the <code>DlgFromDict</code> class instead of passing it directly, e.g., <code class="highlight"><span class="n">DlgFromDict</span><span class="p">({</span><span class="s1">&#39;participant_nr&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">})</span></code>. This is because PsychoPy will modify the dictionary (i.e., the variable <code>exp_info</code> in the code snippet above) with the information filled in by the participant/experimenter.</p>
<div class="admonition example">
<p class="admonition-title">ToDo</p>
<p>In your experiment, create a dialog box with the fields "participant_nr" and "age", in which the participant number should have the default <code>99</code> (for testing purposes) but age should not get a default value. Don't forget to import the <code>DlgFromDict</code> class first! Then, run your experiment.</p>
</div>
<p>As you can see, when you run the experiment, a dialog box appears! After you filled in the required information, you can click <em>OK</em> to start the experiment. Notably, after you fill in the fields of the dialog box (e.g., with participant number <code>01</code> and an age of <code>29</code>), you can access this information from the original dictionary passed to the <code>DlgFromDict</code> class (i.e., <code>example_info</code> in the code snippet above). For example, <code>exp_info['age']</code> will return the age that the participant filled in (e.g., <code>29</code>).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The type of the values from the dictionary depend on the type of the variables you initialized the dictionary with. For example, if you initialize a particular value with an empty string (i.e., <code>''</code>, such as with "participant_nr" in the code snippet above), then the value representing that field will also be a string, even if you fill in a number (such as <code>1</code>)!</p>
</div>
<p>Let's do an exercise to see whether everything's clear so far.</p>
<div class="admonition example">
<p class="admonition-title">ToDo</p>
<p>Given the dialog box configuration from the previous ToDo, include a print statement to your script that will print out the following: "Started the experiment for participant ... with age ...", where the triple dots are replaced by whatever you filled in when running the experiment.</p>
</div>
<p>Currently, it doesn't matter whether the user clicked on <em>OK</em> or <em>Cancel</em> in the dialog box &mdash; in both cases, PsychoPy would have continued with the script. It would be nice to actually quit the experiment when the user pressed <em>Cancel</em>. To do so, we can use the attribute <code>OK</code> from the dialog box object, which is set to <code>True</code> when the user clicks on <em>OK</em> and is set to <code>False</code> when the user clicks on <em>Cancel</em>. To quit the experiment, we can use the function <code>quit</code> from the <code>psychopy.core</code> module. Then, we can implement something like the following to quit the experiment when the user clicked on <em>Cancel</em> instead of <em>OK</em> (assuming the dialog box object is named <code>dlg</code> and the <code>quit</code> function has already been imported):</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="ow">not</span> <span class="n">dlg</span><span class="o">.</span><span class="n">OK</span><span class="p">:</span>
    <span class="c1"># Maybe add a nice print statement?</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;User pressed &#39;Cancel&#39;!&quot;</span><span class="p">)</span>
    <span class="n">quit</span><span class="p">()</span>
</code></pre></div>
<p>We recommend adding this snippet right after initialization of the dialog box in every experiment that actually uses a dialog box! Now, those that want a challenge, try the following (optional) ToDo. </p>
<div class="admonition example">
<p class="admonition-title">ToDo (optional)</p>
<p>Add some code after the <code>if not dlg.OK</code> code block that also quits the experiment when the user fills in an invalid participant number (let's say, anything higher than 99) or an invalid age (let's say, below 18). Try running the experiment with different values for these two options to see whether your implementation works as expected!</p>
</div>
<p>Note that the <code>DlgFromDict</code> in fact can be customized much by using different arguments upon initialization. Check out the <a href="https://www.psychopy.org/api/gui.html">documentation</a> to learn more. </p>
<p>Now, so far we haven't really discussed how to actually create proper experiments, so let's start with arguably the most important element of Coder exeriments: the <code>Window</code>.</p>
<h2 id="the-window">The <code>Window</code></h2>
<p>One of the most important classes from the <code>psychopy</code> package is the <code>Window</code> class, which defines the window in which you are going to run your experiment. It is quite a complex class, with many different attributes and methods; we'll discuss the most important ones in this tutorial.</p>
<p>You can import the <code>Window</code> class from the <code>visual</code> module of the <code>psychopy</code> package (i.e., <code class="highlight"><span class="kn">from</span> <span class="nn">psychopy.visual</span> <span class="kn">import</span> <span class="n">Window</span></code>). This, by itself, does nothing; for the experiment window to appear, we need to intialize an object with the <code>Window</code> class. There are <em>a lot</em> of arguments that can be used upon initialization (for an overview, see the <a href="https://www.psychopy.org/api/visual/window.html">docs</a>), but all arguments have sensible defaults, so you can initialize a <code>Window</code> object as follows:</p>
<div class="highlight"><pre><span></span><code><span class="n">win</span> <span class="o">=</span> <span class="n">Window</span><span class="p">()</span>
</code></pre></div>
<p>Note that you may use any variable name for your <code>Window</code> object, but we recommend naming it <code>win</code> like in the code snippet above, as it's short but descriptive.</p>
<div class="admonition example">
<p class="admonition-title">ToDo</p>
<p>Initialize a <code>Window</code> object as shown in the above code snippet and run your experiment! Don't forget to also import the <code>Window</code> class!</p>
</div>
<p>When running the current experiment, you should briefly see a gray window pop up. This is the "default" experiment window. We can, of course, change the way it looks by passing it arguments upon initialization! We can, for example, change the size by passing a tuple with the width and height in pixels to the argument <code>size</code>. For example, if you'd want a window of (for some reason) 400 (width) by 800 (height) pixels, you'd initialize your <code>Window</code> as follows:</p>
<div class="highlight"><pre><span></span><code><span class="n">win</span> <span class="o">=</span> <span class="n">Window</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">800</span><span class="p">))</span>
</code></pre></div>
<p>Most of the times, though, you'd probably want to run your experiment in "full-screen" mode. To do so, pass <code>True</code> to the argument <code>fullscr</code> (i.e., <code class="highlight"><span class="n">win</span> <span class="o">=</span> <span class="n">Window</span><span class="p">(</span><span class="n">fullscr</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>). Note that if you specify <code>fullscr=True</code> but leave the window's <code>size</code> at its default (i.e., <code>(800, 600)</code>), you'll see a warning in the <em>Experiment running</em> saying "User requested fullscreen with size [800, 600], but screen is actually ... Using actual size". This warning is harmless and can be ignored, but if you want to prevent this warning, you should specify the actual size of your monitor as well (e.g., <code>size=(1920, 1080)</code> for an HD monitor).</p>
<p>You can also change the window's background color by passing a list or tuple with three numbers, corresponding to the desired RGB values, to the <code>color</code> argument.</p>
<div class="admonition example">
<p class="admonition-title">ToDo</p>
<p>Although we don't recommend doing so in a real experiment, try making the window's background color bright blue. Want a more challenging exercise? Try to set the background to bright orange. Hint: note that PsychoPy assumes that RGB values range from -1 (minimum) to 1 (maximum), not from 0 to 255!</p>
</div>
<p>Another important argument of the <code>Window</code> class is the <code>monitor</code>, to which you can pass the name of the monitor, as defined in the monitor center, you want to use for this experiment. For example, if you defined a monitor in the monitor center with the name "laptop", you can pass this configuration to the <code>Window</code> class as follows:</p>
<div class="highlight"><pre><span></span><code><span class="n">win</span> <span class="o">=</span> <span class="n">Window</span><span class="p">(</span><span class="n">monitor</span><span class="o">=</span><span class="s1">&#39;laptop&#39;</span><span class="p">)</span>
</code></pre></div>
<div class="admonition example">
<p class="admonition-title">ToDo (optional; advanced)</p>
<p>If you don't want to use the monitor center at all (e.g., when you're programming your experiments in an external code editor), you can also programmatically using the <code>Monitor</code> class from the <code>psychopy.monitor</code> module. Try creating a monitor configuration for your own laptop/desktop monitor. Make sure you set the monitor's size (in pixels), width (in cm), and distance between you to the monitor (in cm). The <a href="https://www.psychopy.org/api/monitors.html">documentation of the <code>monitor</code> module</a> contains all info you need to do this! </p>
</div>
<p>Finally, the last important argument of the <code>Window</code> class is the type of <em>units</em> that should be used by default for your components (which we'll discuss later), such as "norm" (for normalized units), "deg" (for visual degree angle), and "pix" (for pixels). As said before, there are in fact many more arguments to pass to the <code>Window</code> class (see the <a href="https://www.psychopy.org/api/visual/window.html">documentation</a> for an overview), but we believe that the ones we discussed here are most important to know and that the other arguments all have sensible defaults.</p>
<div class="admonition example">
<p class="admonition-title">ToDo</p>
<p>Let's create a <code>Window</code> object that we'll use for the rest of our emotion-word Stroop experiment! Make sure it is shown in full-screen mode, uses normalized units, uses the monitor specification of your own laptop/desktop monitor, and has a black background. Run your experiment to see whether it looks like expected! </p>
</div>
<p>Note that you can also change <code>Window</code> attributes after creating the object by directly editing the attributes. For example, if you'd want to change the units after initialization to pixels, you can do the following:</p>
<div class="highlight"><pre><span></span><code><span class="n">win</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;pix&#39;</span>
</code></pre></div>
<h2 id="timing-clocks">Timing &amp; clocks</h2>
<p>When you run the current experiment, you'll only see a black screen for like a second or so before it disappears again. The reason why the window doesn't stay open is because we don't tell it to! It is important to realize that PsychoPy will run the experiment script from top to bottom (like any Python file is run, actually) and will close the window once the script ends. Put differently, you can interpret the script as a chronological chain of events from the top of the script (beginning) to the bottom of the script (end). </p>
<p>So, if you want to keep the window open for a little longer, we can simply tell PsychoPy so! There are, in fact, different ways to do this, but arguably the easiest way is using the <code>wait</code> function from the <a href="https://www.psychopy.org/api/core.html"><code>psychopy.core</code></a> module. We can pass this function a number corresponding to the amount of time (in seconds) PsychoPy should wait before continuing with the rest of the script.</p>
<div class="admonition example">
<p class="admonition-title">ToDo</p>
<p>Import the <code>wait</code> function from the <code>psychopy.core</code> module and, after initializing the window, use it to make PsychoPy wait 2 seconds. Then, run the experiment.</p>
</div>
<p>When you ran the experiment after adding the call to the <code>wait</code> function, you may have noticed that the window was active for more than 2 seconds. This because, as we mentioned earlier, it takes a while to close the window. </p>
<p>Another important timing-related concept in PsychoPy is "clocks". Clocks allow you to precisely keep track of the timing of events, which is especially important in studies that need strict control of stimulus onsets and duration, such as psychophysics and neuroimaging experiments. This functionality in PsychoPy is implemented in, you guessed it, the <code>Clock</code> class (from the <code>psychopy.core</code> module). The <code>Clock</code> class does not require any arguments upon initialization, so you can simply create a <code>Clock</code> object as follows:</p>
<div class="highlight"><pre><span></span><code><span class="n">timer</span> <span class="o">=</span> <span class="n">Clock</span><span class="p">()</span>
</code></pre></div>
<p>The variable name, <code>timer</code>, is of course arbitrary; name it whatever you like! Upon initialization, the clock's time is set to 0. If you, at some point, want to know how much time has passed since the clock's initialization, you can call the <code>getTime</code> method:</p>
<div class="highlight"><pre><span></span><code><span class="n">t_since_init</span> <span class="o">=</span> <span class="n">timer</span><span class="o">.</span><span class="n">getTime</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t_since_init</span><span class="p">)</span>  <span class="c1"># prints time (in sec.)</span>
</code></pre></div>
<p>Now, with our knowledge about clocks, let's check whether the <code>wait</code> function actually makes PsychoPy wait as long as we tell it. </p>
<div class="admonition example">
<p class="admonition-title">ToDo</p>
<p>Import the <code>Clock</code> class and, after creating a <code>Window</code> object, initialize it. Then, query the time using <code>getTime</code> and store it in a variable (e.g., <code>t_before_wait</code>). Aftewards, make PsychoPy wait for 2 seconds (using the <code>wait</code> function), and finally, query the time again and store in another variable (e.g., <code>t_after_wait</code>). Make your script print the time before <code>wait</code> call, after the <code>wait</code> call, and the difference between those two times. Then, run the experiment.</p>
</div>
<p>If you implemented the ToDo correctly, you should see that the time just after initialization of the clock is very close to zero (e.g., <code class="highlight"><span class="mf">7.83892915e-06</span></code>) and that both the time after the <code>wait</code> call and the difference before and after the <code>wait</code> call is approximately <code>2</code> seconds &mdash; just like we expected!</p>
<p>Two other important methods of the <code>Clock</code> class are <code>reset</code>, which sets the clock's time back to zero, and <code>add</code>, which &mdash; paradoxically &mdash; subtracts time from the clock. These two features will be discussed in detail in the next tutorial.</p>
<h2 id="quitting-the-experiment">Quitting the experiment</h2>
<p>As you've seen so far, when the Python interpreter arrives at the end of your script, the PsychoPy window automatically closes and the Python process finishes. In the context of PsychoPy experiments, however, it is good practice to end the experiment by explicitly closing the window using the window's <code>close</code> method <em>and</em> then calling the <code>quit</code> function from the <code>core.psychopy</code> module (as we did before in the section on dialog boxes). Although not strictly necessary, calling the <code>close</code> method and the <code>quit</code> function perform a bit of bookkeeping that may prevent issues, so we recommend always including this at the very end of your script!</p>
<div class="admonition example">
<p class="admonition-title">ToDo</p>
<p>At the end of your script, add the code to close your window and to quit the experiment. While you're at it, remove the calls to the <code>getTime</code> methods and the associated <code>print</code> statements, such that you only have the imports, code related to the dialog box, window and clock initializations, and the calls to the <code>close</code> method and <code>quit</code> function left.</p>
</div>
<p>This tutorial features some of the most important, but arguably boring, aspects of programming experiments in the PsychoPy Coder, so let's continue with the <a href="../psychopy_coder_part2/">next (and final) tutorial</a> which discusses creating components and other fun stuff!</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you want the "solution" to the implementations from the ToDos, check out the file <code>solutions_coder_part1.py</code> (from the <code>solutions/week2</code> directory) in the PsychoPy editor, which contains the code from most ToDos.</p>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../psychopy_builder_part2/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                A Builder experiment from scratch
              </div>
            </div>
          </a>
        
        
          <a href="../psychopy_coder_part2/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                The PsychoPy Coder (part 2)
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.fd16492e.min.js"></script>
      <script src="../assets/javascripts/bundle.7836ba4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: ['navigation.tabs'],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>